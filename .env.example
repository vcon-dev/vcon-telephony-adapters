# =============================================================================
# vCon Twilio Adapter Configuration
# =============================================================================
# Copy this file to .env and configure the values for your environment.

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION
# -----------------------------------------------------------------------------

# Host to bind the webhook server to
HOST=0.0.0.0

# Port to run the webhook server on
PORT=8080

# Logging level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# TWILIO CONFIGURATION
# -----------------------------------------------------------------------------

# Your Twilio Account SID (required for downloading recordings)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Your Twilio Auth Token (required for signature validation and downloads)
TWILIO_AUTH_TOKEN=your_auth_token_here

# Whether to validate Twilio webhook signatures (recommended for production)
# Set to false for local development/testing
VALIDATE_TWILIO_SIGNATURE=true

# The public URL of your webhook endpoint (used for signature validation)
# If not set, will use the URL from the incoming request
# Example: https://your-domain.com/webhook/recording
WEBHOOK_URL=

# -----------------------------------------------------------------------------
# CONSERVER CONFIGURATION (Required)
# -----------------------------------------------------------------------------

# URL of your vCon conserver endpoint
# Example: https://conserver.example.com/api/vcons
CONSERVER_URL=https://your-conserver.example.com/api/vcons

# API token for conserver authentication (optional)
CONSERVER_API_TOKEN=

# Header name for the API token (default: x-conserver-api-token)
CONSERVER_HEADER_NAME=x-conserver-api-token

# Comma-separated list of ingress lists to route vCons to (optional)
# Example: transcription,analysis,storage
INGRESS_LISTS=

# -----------------------------------------------------------------------------
# RECORDING CONFIGURATION
# -----------------------------------------------------------------------------

# Whether to download recording audio and embed in vCon (true/false)
# If false, vCon will contain URL reference to Twilio recording
DOWNLOAD_RECORDINGS=true

# Preferred recording format (wav or mp3)
# wav = higher quality, larger files
# mp3 = smaller files, good quality
RECORDING_FORMAT=wav

# -----------------------------------------------------------------------------
# STATE TRACKING
# -----------------------------------------------------------------------------

# Path to the state file for tracking processed recordings
# This prevents duplicate processing of the same recording
STATE_FILE=.twilio_adapter_state.json
